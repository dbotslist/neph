generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// TODO: finish these models

model User {
  // Discord user id
  id        String   @id
  // Something about the user
  bio       String?
  //
  bots      Bot[]
  //
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}

// TODO: add links to the bot's website, github, etc.
model Bot {
  // Discord bot id
  id               String    @id
  // Avatar of the bot
  avatar           String?
  // Name of the bot
  name             String
  // Bot status
  status           BotStatus @default(PENDING)
  // Description of the bot
  description      String?
  // short description of the bot
  shortDescription String?   @map("short_description")
  // The bot's prefix
  prefix           String?
  //
  owners           User[]
  //
  createdAt        DateTime  @default(now()) @map("created_at")
  updatedAt        DateTime  @updatedAt @map("updated_at")

  @@map("bots")
}

enum BotStatus {
  APPROVED
  PENDING
  DENIED
}
